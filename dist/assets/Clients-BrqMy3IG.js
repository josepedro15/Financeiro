import{j as e}from"./ui-DjOJwOSE.js";import{r as p}from"./vendor-CZTyH7vC.js";import{c as T,l as Ee,u as De,a as _e,k as ze,s as g,B as l,j as Y,L as u,d as V,X as Oe,e as xe,f as he,g as Fe,h as Pe}from"./index-s0ORY9Ml.js";import{u as Te}from"./useSubscription-BR-6RAjR.js";import{u as Ae,a as Z,D as qe,c as Le,b as Ie,S as Me,v as Re,d as Ve,C as Ue,s as $e,K as Be,P as He}from"./dnd-vp9_Y6at.js";import{I as v}from"./input-CQHO77pZ.js";import{S as K,a as ee,b as se,c as ae,d as f}from"./select-DlaVWtv0.js";import{D as I,a as te,b as re,c as ie,d as oe,e as ne}from"./dialog-Bo1ybh0S.js";import{U as ce}from"./user-check-BWKagEXX.js";import{C as le}from"./crown-CDGcNV6v.js";import{A as Ge}from"./arrow-left-C70GCbKd.js";import{U as M}from"./users-BTXO2sKE.js";import{P as de}from"./plus-B-cYDZRd.js";import{S as U}from"./square-pen-Bzd52Ql9.js";import{T as $}from"./trash-2-oeZmChHY.js";import{M as ue}from"./mail-D26tsFKQ.js";import{C as Je}from"./calendar-APvNTBzw.js";import{D as We}from"./dollar-sign-DJxmqYwu.js";import"./supabase-DfbQpoin.js";import"./charts-DE-LwN1H.js";import"./chevron-up-CVmdrHio.js";import"./check-DnaOswoR.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=T("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=T("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=T("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=T("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ge=p.forwardRef(({className:r,...m},h)=>e.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:h,...m}));ge.displayName="Textarea";function Qe({stageKey:r,stage:m,clients:h,onEdit:z,onDelete:N,onEditStage:o,onDeleteStage:E}){const{setNodeRef:y,isOver:b}=Ie({id:r}),C=m.icon;return e.jsxs("div",{className:"flex-shrink-0 w-80 space-y-4",children:[e.jsx(V,{className:"bg-gradient-to-r from-background to-muted/30 group",children:e.jsxs(xe,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx(he,{className:"text-lg",children:m.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.color}`,children:h.length}),e.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(l,{size:"sm",variant:"ghost",onClick:d=>{d.stopPropagation(),o(m)},className:"h-6 w-6 p-0 hover:bg-blue-100",title:"Editar est√°gio",children:e.jsx(U,{className:"w-3 h-3"})}),!m.is_default&&e.jsx(l,{size:"sm",variant:"ghost",onClick:d=>{d.stopPropagation(),E(r)},className:"h-6 w-6 p-0 hover:bg-red-100 text-red-600",title:"Excluir est√°gio",children:e.jsx($,{className:"w-3 h-3"})})]})]})]}),e.jsx(Fe,{children:m.description})]})}),e.jsxs("div",{ref:y,className:`space-y-3 min-h-[400px] border-2 border-dashed rounded-lg p-2 transition-all ${b?"border-primary bg-primary/5":"border-transparent hover:border-muted"}`,style:{backgroundColor:h.length===0&&!b?"rgba(0,0,0,0.02)":void 0},children:[e.jsx(Me,{items:h.map(d=>d.id),strategy:Re,children:h.map(d=>e.jsx(Ye,{client:d,onEdit:z,onDelete:N},d.id))}),h.length===0&&e.jsxs("div",{className:"border-2 border-dashed border-muted rounded-lg p-6 text-center mt-4",children:[e.jsx(C,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nenhum cliente em ",m.name.toLowerCase()]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Arraste clientes para c√°"})]})]})]})}function Ye({client:r,onEdit:m,onDelete:h}){const{attributes:z,listeners:N,setNodeRef:o,transform:E,transition:y,isDragging:b}=Ve({id:r.id}),C={transform:Ue.Transform.toString(E),transition:y,opacity:b?.5:1};return e.jsxs(V,{ref:o,style:C,...z,...N,className:`hover:shadow-lg transition-all duration-200 cursor-grab active:cursor-grabbing group ${b?"shadow-2xl z-50 rotate-3":""}`,children:[e.jsx(xe,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(he,{className:"text-base group-hover:text-primary transition-colors",children:r.name}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(l,{size:"sm",variant:"ghost",onClick:d=>{d.stopPropagation(),m(r)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(U,{className:"w-3 h-3"})}),e.jsx(l,{size:"sm",variant:"ghost",onClick:d=>{d.stopPropagation(),h(r.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx($,{className:"w-3 h-3"})})]})]})}),e.jsxs(Pe,{className:"space-y-2",children:[r.email&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(ue,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:r.email})]}),r.phone&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(pe,{className:"w-3 h-3"}),e.jsx("span",{children:r.phone})]}),r.notes&&e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx("p",{className:"line-clamp-2",children:r.notes})}),e.jsx("div",{className:"pt-2 text-xs text-muted-foreground",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(r.created_at).toLocaleDateString("pt-BR")})]})})]})]})}function Ns(){const{user:r}=De(),{canPerformAction:m,incrementUsage:h,isMasterUser:z}=Te(),N=_e(),{toast:o}=ze(),E=Ae(Z(He),Z(Be,{coordinateGetter:$e})),[y,b]=p.useState([]),[C,d]=p.useState(!0),[je,O]=p.useState(!1),[w,B]=p.useState(null),[H,S]=p.useState(!1),[x,G]=p.useState({}),[D,A]=p.useState(null),[c,k]=p.useState({key:"",name:"",description:"",color:"bg-gray-100 text-gray-800"}),[n,j]=p.useState({name:"",email:"",phone:"",document:"",address:"",stage:"lead",notes:""});p.useEffect(()=>{if(!r){N("/auth");return}q(),F()},[r,N]);const fe={Target:R,User:me,UserCheck:ce,Crown:le,Users:M,Mail:ue,Phone:pe,DollarSign:We},q=async()=>{if(r)try{const{data:s,error:a}=await g.from("stages").select("*").eq("user_id",r.id).order("order_index",{ascending:!0});if(a){G({lead:{key:"lead",name:"Lead",icon:R,color:"bg-yellow-100 text-yellow-800",description:"Interessados"},prospect:{key:"prospect",name:"Prospect",icon:me,color:"bg-blue-100 text-blue-800",description:"Em negocia√ß√£o"},client:{key:"client",name:"Cliente",icon:ce,color:"bg-green-100 text-green-800",description:"Compraram"},vip:{key:"vip",name:"VIP",icon:le,color:"bg-purple-100 text-purple-800",description:"Clientes premium"}});return}const i={};s?.forEach(t=>{i[t.key]={id:t.id,key:t.key,name:t.name,description:t.description||"",icon:fe[t.icon]||R,color:t.color,order_index:t.order_index,is_default:t.is_default}}),G(i)}catch{}},F=async()=>{if(r)try{const{data:s}=await g.from("clients").select("*").eq("user_id",r.id).eq("is_active",!0).order("created_at",{ascending:!1});b(s||[])}catch{o({title:"Erro",description:"Erro ao carregar clientes",variant:"destructive"})}finally{d(!1)}},ve=async s=>{if(s.preventDefault(),!!r)try{if(!w&&!await m("client")){o({title:"Limite Atingido",description:"Voc√™ atingiu o limite de clientes para seu plano atual",variant:"destructive"});return}let a=n.stage||"lead";a.length>100&&(a=a.substring(0,100));const i={user_id:r.id,name:n.name,email:n.email||null,phone:n.phone||null,document:n.document||null,address:n.address||null,stage:a,notes:n.notes||null,is_active:!0};if(w){const{error:t}=await g.from("clients").update(i).eq("id",w.id);if(t)throw t;o({title:"Sucesso",description:"Cliente atualizado com sucesso"})}else{const{error:t}=await g.from("clients").insert([i]);if(t)throw t;await h("client",1),o({title:"Sucesso",description:"Cliente criado com sucesso"})}J(),F()}catch(a){o({title:"Erro",description:a.message||"Erro ao salvar cliente",variant:"destructive"})}},J=()=>{j({name:"",email:"",phone:"",document:"",address:"",stage:"lead",notes:""}),B(null),O(!1)},Ne=s=>{B(s),j({name:s.name,email:s.email||"",phone:s.phone||"",document:s.document||"",address:s.address||"",stage:s.stage,notes:s.notes||""}),O(!0)},be=async s=>{if(confirm("Tem certeza que deseja excluir este cliente?"))try{const{data:a,error:i}=await g.from("clients").select("*").eq("id",s).single();if(i)throw i;const t={is_active:!1,updated_at:new Date().toISOString()};a.stage&&a.stage.length<=100?t.stage=a.stage:a.stage&&a.stage.length>100?t.stage=a.stage.substring(0,100):t.stage="lead";const{error:_}=await g.from("clients").update(t).eq("id",s);if(_)throw _;o({title:"Sucesso",description:"Cliente exclu√≠do com sucesso"}),F()}catch(a){o({title:"Erro",description:a.message||"Erro ao excluir cliente",variant:"destructive"})}},ye=async(s,a)=>{try{const{error:i}=await g.from("clients").update({stage:a}).eq("id",s);if(i)throw i;o({title:"Sucesso",description:`Cliente movido para ${x[a].name}`}),F()}catch(i){o({title:"Erro",description:i.message||"Erro ao atualizar est√°gio",variant:"destructive"})}},P=s=>y.filter(a=>a.stage===s),W=s=>{A(s),k({key:s.key,name:s.name,description:s.description||"",color:s.color}),S(!0)},Ce=async()=>{if(!c.key||!c.name){o({title:"Erro",description:"Chave e nome s√£o obrigat√≥rios",variant:"destructive"});return}await we()},we=async()=>{if(r)try{if(D?.id){const{error:s}=await g.from("stages").update({name:c.name,description:c.description,color:c.color,updated_at:new Date().toISOString()}).eq("id",D.id);if(s)throw s;o({title:"Sucesso",description:"Est√°gio atualizado com sucesso"})}else{if(x[c.key]){o({title:"Erro",description:"J√° existe um est√°gio com essa chave",variant:"destructive"});return}const s=Math.max(...Object.values(x).map(i=>i.order_index||0)),{error:a}=await g.from("stages").insert([{user_id:r.id,key:c.key,name:c.name,description:c.description,icon:"Target",color:c.color,order_index:s+1,is_default:!1}]);if(a)throw a;o({title:"Sucesso",description:"Est√°gio criado com sucesso"})}await q(),A(null),L(),S(!1)}catch(s){o({title:"Erro",description:s.message||"Erro ao salvar est√°gio",variant:"destructive"})}},X=async s=>{const a=P(s);if(a.length>0){o({title:"Erro",description:`N√£o √© poss√≠vel excluir o est√°gio "${x[s].name}" pois h√° ${a.length} cliente(s) nele`,variant:"destructive"});return}if(!confirm(`Tem certeza que deseja excluir o est√°gio "${x[s].name}"?`))return;const i=x[s];if(!i?.id){o({title:"Erro",description:"Est√°gio n√£o encontrado",variant:"destructive"});return}try{const{error:t}=await g.from("stages").delete().eq("id",i.id);if(t)throw t;o({title:"Sucesso",description:"Est√°gio exclu√≠do com sucesso"}),await q()}catch(t){o({title:"Erro",description:t.message||"Erro ao excluir est√°gio",variant:"destructive"})}},L=()=>{A(null),k({key:"",name:"",description:"",color:"bg-gray-100 text-gray-800"})},Se=s=>{const{active:a,over:i}=s;if(!i)return;const t=a.id,_=i.id,Q=y.find(ke=>ke.id===t);Q&&Q.stage!==_&&ye(t,_)};return C?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(l,{variant:"ghost",onClick:()=>N("/dashboard"),children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),e.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-4 h-4 text-primary-foreground"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"CRM - Gest√£o de Clientes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(I,{open:H,onOpenChange:S,children:e.jsx(te,{asChild:!0,children:e.jsxs(l,{variant:"outline",onClick:()=>L(),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Configurar Est√°gios"]})})}),e.jsxs(I,{open:je,onOpenChange:O,children:[e.jsx(te,{asChild:!0,children:e.jsxs(l,{onClick:()=>J(),children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),e.jsxs(re,{className:"sm:max-w-[600px]",children:[e.jsxs(ie,{children:[e.jsx(oe,{children:w?"Editar Cliente":"Novo Cliente"}),e.jsx(ne,{children:w?"Edite os dados do cliente":"Adicione um novo cliente ao seu CRM"})]}),e.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"name",children:"Nome *"}),e.jsx(v,{id:"name",placeholder:"Nome do cliente",value:n.name,onChange:s=>j({...n,name:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"stage",children:"Est√°gio *"}),e.jsxs(K,{value:n.stage,onValueChange:s=>j({...n,stage:s}),children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"Selecione o est√°gio"})}),e.jsx(ae,{children:Object.entries(x).map(([s,a])=>e.jsx(f,{value:s,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.name})]})},s))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(v,{id:"email",type:"email",placeholder:"cliente@email.com",value:n.email,onChange:s=>j({...n,email:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"phone",children:"Telefone"}),e.jsx(v,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:n.phone,onChange:s=>j({...n,phone:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"document",children:"CPF/CNPJ"}),e.jsx(v,{id:"document",placeholder:"000.000.000-00 ou 00.000.000/0001-00",value:n.document,onChange:s=>j({...n,document:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"address",children:"Endere√ßo"}),e.jsx(v,{id:"address",placeholder:"Endere√ßo completo",value:n.address,onChange:s=>j({...n,address:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"notes",children:"Observa√ß√µes"}),e.jsx(ge,{id:"notes",placeholder:"Anota√ß√µes sobre o cliente...",value:n.notes,onChange:s=>j({...n,notes:s.target.value}),rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),e.jsx(l,{type:"submit",children:w?"Atualizar":"Criar Cliente"})]})]})]})]})]}),e.jsx(I,{open:H,onOpenChange:S,children:e.jsxs(re,{className:"sm:max-w-[800px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(ie,{children:[e.jsx(oe,{children:"Configurar Est√°gios do Kanban"}),e.jsx(ne,{children:"Gerencie os est√°gios do seu pipeline de vendas"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Est√°gios Atuais"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(x).map(([s,a])=>{const i=a.icon;return e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),e.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs ${a.color} mt-1`,children:[P(s).length," clientes"]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>W(x[s]),children:e.jsx(U,{className:"w-3 h-3"})}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>X(s),disabled:P(s).length>0,children:e.jsx($,{className:"w-3 h-3"})})]})]})},s)})})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:D?"Editar Est√°gio":"Novo Est√°gio"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"stage-key",children:"Chave do Est√°gio *"}),e.jsx(v,{id:"stage-key",placeholder:"ex: negociacao",value:c.key,onChange:s=>k({...c,key:s.target.value.toLowerCase().replace(/\s+/g,"_")}),disabled:!!D})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"stage-name",children:"Nome do Est√°gio *"}),e.jsx(v,{id:"stage-name",placeholder:"ex: Negocia√ß√£o",value:c.name,onChange:s=>k({...c,name:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(u,{htmlFor:"stage-description",children:"Descri√ß√£o"}),e.jsx(v,{id:"stage-description",placeholder:"ex: Clientes em processo de negocia√ß√£o",value:c.description,onChange:s=>k({...c,description:s.target.value})})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(u,{htmlFor:"stage-color",children:"Cor do Badge"}),e.jsxs(K,{value:c.color,onValueChange:s=>k({...c,color:s}),children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"Selecione uma cor"})}),e.jsxs(ae,{children:[e.jsx(f,{value:"bg-yellow-100 text-yellow-800",children:"üü° Amarelo"}),e.jsx(f,{value:"bg-blue-100 text-blue-800",children:"üîµ Azul"}),e.jsx(f,{value:"bg-green-100 text-green-800",children:"üü¢ Verde"}),e.jsx(f,{value:"bg-purple-100 text-purple-800",children:"üü£ Roxo"}),e.jsx(f,{value:"bg-red-100 text-red-800",children:"üî¥ Vermelho"}),e.jsx(f,{value:"bg-orange-100 text-orange-800",children:"üü† Laranja"}),e.jsx(f,{value:"bg-gray-100 text-gray-800",children:"‚ö´ Cinza"}),e.jsx(f,{value:"bg-pink-100 text-pink-800",children:"ü©∑ Rosa"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxs(l,{variant:"outline",onClick:L,children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),e.jsxs(l,{onClick:Ce,children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),D?"Atualizar":"Criar"," Est√°gio"]})]})]})]})]})})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx(qe,{sensors:E,collisionDetection:Le,onDragEnd:Se,children:e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4",style:{minWidth:"fit-content"},children:[Object.entries(x).map(([s,a])=>{const i=P(s);return e.jsx(Qe,{stageKey:s,stage:a,clients:i,onEdit:Ne,onDelete:be,onEditStage:W,onDeleteStage:X},s)}),Object.keys(x).length>0&&e.jsx("div",{className:"flex-shrink-0 w-80 flex items-center justify-center",children:e.jsx(l,{variant:"outline",className:"h-12 w-12 rounded-full border-dashed border-2 hover:border-solid",onClick:()=>S(!0),children:e.jsx(de,{className:"w-6 h-6"})})})]})}),Object.keys(x).length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(M,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum est√°gio criado"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Comece criando seu primeiro est√°gio para organizar os clientes"}),e.jsxs(l,{onClick:()=>S(!0),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Criar Primeiro Est√°gio"]})]})]})]})}export{Ns as default};
