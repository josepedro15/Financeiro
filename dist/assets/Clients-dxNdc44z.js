import{j as e}from"./ui-Cnk5WNzt.js";import{r as m}from"./vendor-CZTyH7vC.js";import{c as g,b as pe,u as ge,a as je,e as ve,s as E,X as fe}from"./index-DMPpfWZc.js";import{u as ye,a as _,D as Ne,c as be,b as Ce,d as ke,C as we,s as Se,K as Ee,P as De}from"./dnd-C0u_yUmV.js";import{C as M,a as se,b as ae,c as ze,d as Fe}from"./card-CNKSsfyp.js";import{B as c}from"./button-BiYs1Tae.js";import{I as j}from"./input-DOAzSnWi.js";import{L as d}from"./label-BH8Z3DW0.js";import{S as $,a as U,b as B,c as G,d as p,C as Le}from"./select-Dxcty8jL.js";import{D as L,a as J,b as W,c as X,d as Q,e as Y,S as te,T as re}from"./dialog-Bd6VSDNs.js";import{U as Z}from"./users-DS2V_Jg4.js";import{P as K}from"./plus-BcjBAqMl.js";import"./supabase-DfbQpoin.js";import"./charts-DE-LwN1H.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=g("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=g("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=g("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=g("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=g("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=g("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=g("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=g("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=g("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ne=m.forwardRef(({className:t,...l},r)=>e.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...l}));ne.displayName="Textarea";function Ve({stageKey:t,stage:l,clients:r,onEdit:w,onDelete:v}){const{setNodeRef:S,isOver:C}=Ce({id:t}),k=l.icon;return e.jsxs("div",{className:"flex-shrink-0 w-80 space-y-4",children:[e.jsx(M,{className:"bg-gradient-to-r from-background to-muted/30",children:e.jsxs(se,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx(ae,{className:"text-lg",children:l.name})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.color}`,children:r.length})]}),e.jsx(ze,{children:l.description})]})}),e.jsxs("div",{ref:S,className:`space-y-3 min-h-[400px] border-2 border-dashed rounded-lg p-2 transition-all ${C?"border-primary bg-primary/5":"border-transparent hover:border-muted"}`,style:{backgroundColor:r.length===0&&!C?"rgba(0,0,0,0.02)":void 0},children:[r.map(f=>e.jsx(He,{client:f,onEdit:w,onDelete:v},f.id)),r.length===0&&e.jsxs("div",{className:"border-2 border-dashed border-muted rounded-lg p-6 text-center mt-4",children:[e.jsx(k,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nenhum cliente em ",l.name.toLowerCase()]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Arraste clientes para cá"})]})]})]})}function He({client:t,onEdit:l,onDelete:r}){const{attributes:w,listeners:v,setNodeRef:S,transform:C,transition:k,isDragging:f}=ke({id:t.id}),y={transform:we.Transform.toString(C),transition:k,opacity:f?.5:1};return e.jsxs(M,{ref:S,style:y,...w,...v,className:`hover:shadow-lg transition-all duration-200 cursor-grab active:cursor-grabbing group ${f?"shadow-2xl z-50 rotate-3":""}`,children:[e.jsx(se,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ae,{className:"text-base group-hover:text-primary transition-colors",children:t.name}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(c,{size:"sm",variant:"ghost",onClick:h=>{h.stopPropagation(),l(t)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(te,{className:"w-3 h-3"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:h=>{h.stopPropagation(),r(t.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(re,{className:"w-3 h-3"})})]})]})}),e.jsxs(Fe,{className:"space-y-2",children:[t.email&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(Ae,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:t.email})]}),t.phone&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(Pe,{className:"w-3 h-3"}),e.jsx("span",{children:t.phone})]}),t.notes&&e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx("p",{className:"line-clamp-2",children:t.notes})}),e.jsx("div",{className:"pt-2 text-xs text-muted-foreground",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString("pt-BR")})]})})]})]})}function as(){const{user:t}=ge(),l=je(),{toast:r}=ve(),w=ye(_(De),_(Ee,{coordinateGetter:Se})),[v,S]=m.useState([]),[C,k]=m.useState(!0),[f,y]=m.useState(!1),[h,T]=m.useState(null),[A,P]=m.useState(!1),[x,q]=m.useState({lead:{key:"lead",name:"Lead",icon:ee,color:"bg-yellow-100 text-yellow-800",description:"Interessados"},prospect:{key:"prospect",name:"Prospect",icon:Re,color:"bg-blue-100 text-blue-800",description:"Em negociação"},client:{key:"client",name:"Cliente",icon:Ie,color:"bg-green-100 text-green-800",description:"Compraram"},vip:{key:"vip",name:"VIP",icon:Te,color:"bg-purple-100 text-purple-800",description:"Clientes premium"}}),[N,F]=m.useState(null),[o,b]=m.useState({key:"",name:"",description:"",color:"bg-gray-100 text-gray-800"}),[n,u]=m.useState({name:"",email:"",phone:"",document:"",address:"",stage:"lead",notes:""});m.useEffect(()=>{if(!t){l("/auth");return}D()},[t,l]);const D=async()=>{if(t)try{const{data:s}=await E.from("clients").select("*").eq("user_id",t.id).eq("is_active",!0).order("created_at",{ascending:!1});S(s||[])}catch{r({title:"Erro",description:"Erro ao carregar clientes",variant:"destructive"})}finally{k(!1)}},ie=async s=>{if(s.preventDefault(),!!t)try{const a={user_id:t.id,name:n.name,email:n.email||null,phone:n.phone||null,document:n.document||null,address:n.address||null,stage:n.stage,notes:n.notes||null,is_active:!0};if(h){const{error:i}=await E.from("clients").update(a).eq("id",h.id);if(i)throw i;r({title:"Sucesso",description:"Cliente atualizado com sucesso"})}else{const{error:i}=await E.from("clients").insert([a]);if(i)throw i;r({title:"Sucesso",description:"Cliente criado com sucesso"})}O(),D()}catch(a){r({title:"Erro",description:a.message||"Erro ao salvar cliente",variant:"destructive"})}},O=()=>{u({name:"",email:"",phone:"",document:"",address:"",stage:"lead",notes:""}),T(null),y(!1)},oe=s=>{T(s),u({name:s.name,email:s.email||"",phone:s.phone||"",document:s.document||"",address:s.address||"",stage:s.stage,notes:s.notes||""}),y(!0)},le=async s=>{if(confirm("Tem certeza que deseja excluir este cliente?"))try{const{error:a}=await E.from("clients").update({is_active:!1}).eq("id",s);if(a)throw a;r({title:"Sucesso",description:"Cliente excluído com sucesso"}),D()}catch(a){r({title:"Erro",description:a.message||"Erro ao excluir cliente",variant:"destructive"})}},ce=async(s,a)=>{try{const{error:i}=await E.from("clients").update({stage:a}).eq("id",s);if(i)throw i;r({title:"Sucesso",description:`Cliente movido para ${x[a].name}`}),D()}catch(i){r({title:"Erro",description:i.message||"Erro ao atualizar estágio",variant:"destructive"})}},z=s=>v.filter(a=>a.stage===s),de=s=>{const a=x[s];F(a),b({key:a.key,name:a.name,description:a.description,color:a.color})},me=()=>{if(!o.key||!o.name){r({title:"Erro",description:"Chave e nome são obrigatórios",variant:"destructive"});return}const s={...x};if(N)s[N.key]={...N,name:o.name,description:o.description,color:o.color};else{if(x[o.key]){r({title:"Erro",description:"Já existe um estágio com essa chave",variant:"destructive"});return}s[o.key]={key:o.key,name:o.name,icon:ee,color:o.color,description:o.description}}q(s),F(null),b({key:"",name:"",description:"",color:"bg-gray-100 text-gray-800"}),r({title:"Sucesso",description:N?"Estágio atualizado":"Estágio criado"})},xe=s=>{const a=z(s);if(a.length>0){r({title:"Erro",description:`Não é possível excluir o estágio "${x[s].name}" pois há ${a.length} cliente(s) nele`,variant:"destructive"});return}if(!confirm(`Tem certeza que deseja excluir o estágio "${x[s].name}"?`))return;const i={...x};delete i[s],q(i),r({title:"Sucesso",description:"Estágio excluído com sucesso"})},I=()=>{F(null),b({key:"",name:"",description:"",color:"bg-gray-100 text-gray-800"})},he=s=>{const{active:a,over:i}=s;if(!i)return;const R=a.id,V=i.id,H=v.find(ue=>ue.id===R);H&&H.stage!==V&&ce(R,V)};return C?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(c,{variant:"ghost",onClick:()=>l("/dashboard"),children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),e.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"w-4 h-4 text-primary-foreground"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"CRM - Gestão de Clientes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(L,{open:A,onOpenChange:P,children:e.jsx(J,{asChild:!0,children:e.jsxs(c,{variant:"outline",onClick:()=>I(),children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Configurar Estágios"]})})}),e.jsxs(L,{open:f,onOpenChange:y,children:[e.jsx(J,{asChild:!0,children:e.jsxs(c,{onClick:()=>O(),children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),e.jsxs(W,{className:"sm:max-w-[600px]",children:[e.jsxs(X,{children:[e.jsx(Q,{children:h?"Editar Cliente":"Novo Cliente"}),e.jsx(Y,{children:h?"Edite os dados do cliente":"Adicione um novo cliente ao seu CRM"})]}),e.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Nome *"}),e.jsx(j,{id:"name",placeholder:"Nome do cliente",value:n.name,onChange:s=>u({...n,name:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"stage",children:"Estágio *"}),e.jsxs($,{value:n.stage,onValueChange:s=>u({...n,stage:s}),children:[e.jsx(U,{children:e.jsx(B,{placeholder:"Selecione o estágio"})}),e.jsx(G,{children:Object.entries(x).map(([s,a])=>e.jsx(p,{value:s,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.name})]})},s))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsx(j,{id:"email",type:"email",placeholder:"cliente@email.com",value:n.email,onChange:s=>u({...n,email:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"phone",children:"Telefone"}),e.jsx(j,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:n.phone,onChange:s=>u({...n,phone:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"document",children:"CPF/CNPJ"}),e.jsx(j,{id:"document",placeholder:"000.000.000-00 ou 00.000.000/0001-00",value:n.document,onChange:s=>u({...n,document:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"address",children:"Endereço"}),e.jsx(j,{id:"address",placeholder:"Endereço completo",value:n.address,onChange:s=>u({...n,address:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"notes",children:"Observações"}),e.jsx(ne,{id:"notes",placeholder:"Anotações sobre o cliente...",value:n.notes,onChange:s=>u({...n,notes:s.target.value}),rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),e.jsx(c,{type:"submit",children:h?"Atualizar":"Criar Cliente"})]})]})]})]})]}),e.jsx(L,{open:A,onOpenChange:P,children:e.jsxs(W,{className:"sm:max-w-[800px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(X,{children:[e.jsx(Q,{children:"Configurar Estágios do Kanban"}),e.jsx(Y,{children:"Gerencie os estágios do seu pipeline de vendas"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Estágios Atuais"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(x).map(([s,a])=>{const i=a.icon;return e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),e.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs ${a.color} mt-1`,children:[z(s).length," clientes"]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>de(s),children:e.jsx(te,{className:"w-3 h-3"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>xe(s),disabled:z(s).length>0,children:e.jsx(re,{className:"w-3 h-3"})})]})]})},s)})})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:N?"Editar Estágio":"Novo Estágio"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"stage-key",children:"Chave do Estágio *"}),e.jsx(j,{id:"stage-key",placeholder:"ex: negociacao",value:o.key,onChange:s=>b({...o,key:s.target.value.toLowerCase().replace(/\s+/g,"_")}),disabled:!!N})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"stage-name",children:"Nome do Estágio *"}),e.jsx(j,{id:"stage-name",placeholder:"ex: Negociação",value:o.name,onChange:s=>b({...o,name:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(d,{htmlFor:"stage-description",children:"Descrição"}),e.jsx(j,{id:"stage-description",placeholder:"ex: Clientes em processo de negociação",value:o.description,onChange:s=>b({...o,description:s.target.value})})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(d,{htmlFor:"stage-color",children:"Cor do Badge"}),e.jsxs($,{value:o.color,onValueChange:s=>b({...o,color:s}),children:[e.jsx(U,{children:e.jsx(B,{placeholder:"Selecione uma cor"})}),e.jsxs(G,{children:[e.jsx(p,{value:"bg-yellow-100 text-yellow-800",children:"🟡 Amarelo"}),e.jsx(p,{value:"bg-blue-100 text-blue-800",children:"🔵 Azul"}),e.jsx(p,{value:"bg-green-100 text-green-800",children:"🟢 Verde"}),e.jsx(p,{value:"bg-purple-100 text-purple-800",children:"🟣 Roxo"}),e.jsx(p,{value:"bg-red-100 text-red-800",children:"🔴 Vermelho"}),e.jsx(p,{value:"bg-orange-100 text-orange-800",children:"🟠 Laranja"}),e.jsx(p,{value:"bg-gray-100 text-gray-800",children:"⚫ Cinza"}),e.jsx(p,{value:"bg-pink-100 text-pink-800",children:"🩷 Rosa"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxs(c,{variant:"outline",onClick:I,children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),e.jsxs(c,{onClick:me,children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),N?"Atualizar":"Criar"," Estágio"]})]})]})]})]})})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx(Ne,{sensors:w,collisionDetection:be,onDragEnd:he,children:e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",style:{minWidth:"fit-content"},children:Object.entries(x).map(([s,a])=>{const i=z(s);return e.jsx(Ve,{stageKey:s,stage:a,clients:i,onEdit:oe,onDelete:le},s)})})}),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Z,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum cliente cadastrado"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Comece adicionando seu primeiro cliente ao CRM"}),e.jsxs(c,{onClick:()=>y(!0),children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Adicionar Primeiro Cliente"]})]})]})]})}export{as as default};
