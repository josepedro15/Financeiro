import{j as e}from"./ui-DjOJwOSE.js";import{r as o}from"./vendor-CZTyH7vC.js";import{c as f,o as F,p as a,a as O,B as p,d as t,h as i,C as U,b as d,e as n,f as l,E as L,I as z,j as G,G as H}from"./index-_XxaxOIG.js";import{T as $,a as J,b,c as w}from"./tabs-gtlcHFOG.js";import{D as K}from"./dollar-sign-Bw3TNCgo.js";import{A as Q}from"./arrow-left-D0aJW41G.js";import{C as W}from"./chart-column-BNGSQ_Ra.js";import{T as V}from"./triangle-alert-DlG5yRuT.js";import{U as X}from"./users-BbPkctm7.js";import{C as R}from"./clock-swS9ByBq.js";import{T as Y}from"./trending-up-CfoBwWQE.js";import{T as I}from"./trash-2-DezmM8nr.js";import"./supabase-DfbQpoin.js";import"./charts-DE-LwN1H.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=f("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=f("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=f("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=f("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=f("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ae=()=>{const h=F(),[s,r]=o.useState(a.getUserPreferences()),[N,u]=o.useState(a.getAnalyticsData()),[k,T]=o.useState(a.isNewUser());return o.useEffect(()=>{s.analytics&&(a.trackPageView(h.pathname),u(a.getAnalyticsData()))},[h.pathname,s.analytics]),o.useEffect(()=>{s.analytics&&a.startSessionTimer()},[s.analytics]),o.useEffect(()=>{const m=C=>{r(C.detail)};return window.addEventListener("preferencesChanged",m),()=>{window.removeEventListener("preferencesChanged",m)}},[]),{preferences:s,analytics:N,isNewUser:k,updatePreferences:m=>{a.setUserPreferences(m),r(a.getUserPreferences())},getUsageStats:()=>a.getUsageStats(),exportUserData:()=>a.exportUserData(),clearNonEssentialCookies:()=>{a.clearNonEssentialCookies(),r(a.getUserPreferences()),u(a.getAnalyticsData())},isAnalyticsEnabled:s.analytics,isMarketingEnabled:s.marketing,currentTheme:s.theme,currentLanguage:s.language,currentCurrency:s.currency,dashboardLayout:s.dashboardLayout,sidebarCollapsed:s.sidebarCollapsed}},Ne=()=>{const h=O(),{preferences:s,analytics:r,isNewUser:N,getUsageStats:u,exportUserData:k,clearNonEssentialCookies:T}=ae(),[c,M]=o.useState(u()),[g,A]=o.useState(null),m=()=>{M(u())},C=()=>{const x=k();A(x);const y=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),P=URL.createObjectURL(y),j=document.createElement("a");j.href=P,j.download=`financeirologotiq-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(P)},B=()=>{confirm("Tem certeza que deseja limpar todos os cookies não essenciais? Esta ação não pode ser desfeita.")&&(T(),m())},D=(x=>/Mobile|Android|iPhone|iPad/.test(x)?"Mobile":/Tablet|iPad/.test(x)?"Tablet":"Desktop")(r.userAgent),v=Math.round(c.averageSessionTime/6e4*10)/10,E=Math.round(c.totalSessionTime/36e5*10)/10,S=Math.ceil((Date.now()-new Date(r.firstVisit).getTime())/(1e3*60*60*24));return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/30 to-background",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{variant:"ghost",className:"p-0 h-auto hover:bg-transparent",onClick:()=>h("/"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-xl flex items-center justify-center",children:e.jsx(K,{className:"w-5 h-5 text-primary-foreground"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"FinanceiroLogotiq"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"outline",onClick:m,children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Atualizar"]}),e.jsxs(p,{variant:"outline",onClick:()=>h("/"),children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(W,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Analytics e Dados"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Visualize os dados coletados sobre seu uso do FinanceiroLogotiq"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.analytics?e.jsx(U,{className:"w-5 h-5 text-success"}):e.jsx(V,{className:"w-5 h-5 text-warning"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:["Status do Analytics: ",s.analytics?"Ativo":"Inativo"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.analytics?"Coletando dados para melhorar sua experiência":"Analytics desabilitado - alguns dados podem não estar disponíveis"})]})]}),e.jsx(d,{variant:s.analytics?"default":"secondary",children:s.analytics?"Coletando":"Pausado"})]})})})}),e.jsxs($,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(J,{className:"grid w-full grid-cols-4",children:[e.jsx(b,{value:"overview",children:"Visão Geral"}),e.jsx(b,{value:"usage",children:"Uso Detalhado"}),e.jsx(b,{value:"preferences",children:"Preferências"}),e.jsx(b,{value:"data",children:"Gerenciar Dados"})]}),e.jsxs(w,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs(t,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total de Visitas"}),e.jsx(X,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.totalVisits}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Desde ",new Date(r.firstVisit).toLocaleDateString("pt-BR")]})]})]}),e.jsxs(t,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Páginas Únicas"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.uniquePages}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Páginas diferentes visitadas"})]})]}),e.jsxs(t,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Tempo Total"}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[E,"h"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo total de uso"})]})]}),e.jsxs(t,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Sessão Média"}),e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[v,"min"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Por sessão"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"}),"Informações do Usuário"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tipo de Usuário:"}),e.jsx(d,{variant:N?"secondary":"default",className:"ml-2",children:N?"Novo":"Recorrente"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Dispositivo:"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[D==="Mobile"&&e.jsx(se,{className:"w-4 h-4"}),D==="Desktop"&&e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{className:"text-muted-foreground",children:D})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Primeira Visita:"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(r.firstVisit).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Última Visita:"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(r.lastVisit).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Dias Ativo:"}),e.jsxs("p",{className:"text-muted-foreground",children:[S," dias"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Frequência:"}),e.jsxs("p",{className:"text-muted-foreground",children:[S>0?Math.round(c.totalVisits/S*10)/10:0," visitas/dia"]})]})]})})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),"Tendências"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Engajamento"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(c.totalVisits/30*100,100)}%`}})}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.min(c.totalVisits/30*100,100).toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Exploração"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-secondary h-2 rounded-full",style:{width:`${Math.min(c.uniquePages/10*100,100)}%`}})}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.min(c.uniquePages/10*100,100).toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Retenção"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:`${Math.min(v/10*100,100)}%`}})}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.min(v/10*100,100).toFixed(0),"%"]})]})]})]})})]})]})]}),e.jsx(w,{value:"usage",className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5"}),"Páginas Visitadas"]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:r.pagesVisited.length>0?r.pagesVisited.map((x,y)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[e.jsx("span",{className:"text-sm font-mono",children:x}),e.jsxs(d,{variant:"outline",children:["#",y+1]})]},y)):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma página visitada ainda"})})})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5"}),"Estatísticas de Sessão"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center p-3 bg-primary/5 rounded",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:c.totalVisits}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total de Visitas"})]}),e.jsxs("div",{className:"text-center p-3 bg-secondary/5 rounded",children:[e.jsx("div",{className:"text-2xl font-bold text-secondary",children:c.uniquePages}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Páginas Únicas"})]}),e.jsxs("div",{className:"text-center p-3 bg-success/5 rounded",children:[e.jsxs("div",{className:"text-2xl font-bold text-success",children:[E,"h"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Tempo Total"})]}),e.jsxs("div",{className:"text-center p-3 bg-warning/5 rounded",children:[e.jsxs("div",{className:"text-2xl font-bold text-warning",children:[v,"min"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Média/Sessão"})]})]})})]})]})}),e.jsx(w,{value:"preferences",className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Preferências Atuais"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tema:"}),e.jsx(d,{variant:"outline",className:"ml-2",children:s.theme})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Idioma:"}),e.jsx(d,{variant:"outline",className:"ml-2",children:s.language})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Moeda:"}),e.jsx(d,{variant:"outline",className:"ml-2",children:s.currency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Layout:"}),e.jsx(d,{variant:"outline",className:"ml-2",children:s.dashboardLayout})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Notificações:"}),e.jsx(d,{variant:s.notifications?"default":"secondary",className:"ml-2",children:s.notifications?"Ativo":"Inativo"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Analytics:"}),e.jsx(d,{variant:s.analytics?"default":"secondary",className:"ml-2",children:s.analytics?"Ativo":"Inativo"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marketing:"}),e.jsx(d,{variant:s.marketing?"destructive":"secondary",className:"ml-2",children:s.marketing?"Ativo":"Inativo"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Sidebar:"}),e.jsx(d,{variant:s.sidebarCollapsed?"secondary":"default",className:"ml-2",children:s.sidebarCollapsed?"Recolhida":"Expandida"})]})]})})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Informações do Sistema"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"User Agent:"}),e.jsx("p",{className:"text-muted-foreground text-xs mt-1 break-all",children:r.userAgent})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Referrer:"}),e.jsx("p",{className:"text-muted-foreground text-xs mt-1",children:r.referrer||"Direto"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cookies Suportados:"}),e.jsx(d,{variant:a.isSupported()?"default":"destructive",className:"ml-2",children:a.isSupported()?"Sim":"Não"})]})]})})]})]})}),e.jsxs(w,{value:"data",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Exportar Dados"]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Baixe todos os seus dados em formato JSON. Isso inclui preferências, analytics e configurações de cookies."}),e.jsxs(p,{onClick:C,className:"w-full",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Exportar Dados (LGPD)"]}),g&&e.jsx("div",{className:"p-3 bg-success/5 border border-success/10 rounded",children:e.jsxs("p",{className:"text-sm text-success",children:[e.jsx(U,{className:"w-4 h-4 inline mr-2"}),"Dados exportados com sucesso!"]})})]})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5"}),"Limpar Dados"]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Remova todos os cookies não essenciais. Isso irá limpar suas preferências e dados de analytics."}),e.jsxs(p,{variant:"destructive",onClick:B,className:"w-full",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Limpar Cookies"]}),e.jsx("div",{className:"p-3 bg-warning/5 border border-warning/10 rounded",children:e.jsxs("p",{className:"text-sm text-warning",children:[e.jsx(V,{className:"w-4 h-4 inline mr-2"}),"Esta ação não pode ser desfeita"]})})]})]})]}),g&&e.jsxs(t,{children:[e.jsx(n,{children:e.jsx(l,{children:"Preview dos Dados Exportados"})}),e.jsx(i,{children:e.jsx("pre",{className:"bg-muted p-4 rounded text-xs overflow-auto max-h-96",children:JSON.stringify(g,null,2)})})]})]})]})]})})]})};export{Ne as default};
