import{j as e}from"./ui-GI4EfHd4.js";import{r as p}from"./vendor-CZTyH7vC.js";import{c as A,u as be,s as f,d as M,X as Ie,a as Ae}from"./index-Wewmnpcn.js";import{C as m,a as x,b as h,d as u,c as V}from"./card-DViYy-2D.js";import{B as N}from"./button-DtDkGFt8.js";import{S as Be,a as Je,b as Fe,c as Oe,d as Ue}from"./select-GY33cGe_.js";import{B as Y,D as Ye,A as Ve,a as Ke}from"./badge-CxzGO0X7.js";import{U as ye}from"./users-Dn4lGQAL.js";import{C as We}from"./check-CD6qwei3.js";import{D as te}from"./dollar-sign-DXp9D2zg.js";import{S as Xe}from"./settings-D4Uz5Ign.js";import{C as Ge,T as He}from"./trending-up-Criqzcny.js";import{T as Qe}from"./trending-down-CTtmQ1a2.js";import{R as he,B as Ze,C as ue,X as pe,Y as fe,T as je,a as et,L as tt,b as st}from"./charts-DE-LwN1H.js";import{P as ge}from"./plus-CAXmyunV.js";import"./supabase-DfbQpoin.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=A("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=A("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=A("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=A("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=A("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);function ct(){const{user:r}=be(),[D,j]=p.useState([]),[B,K]=p.useState(!0);p.useEffect(()=>{r&&v()},[r]);const v=async()=>{if(r)try{const{data:t,error:c}=await f.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(c){M.error(`Erro ao carregar notificações: ${c.message}`);return}j(t||[])}catch{M.error("Erro inesperado ao carregar notificações")}finally{K(!1)}},z=async(t,c,b)=>{try{const{error:y}=await f.from("organization_members").update({status:b==="accepted"?"active":"rejected",updated_at:new Date().toISOString()}).eq("id",c);if(y){M.error(`Erro ao processar resposta: ${y.message}`);return}const{error:W}=await f.from("notifications").update({status:b,read:!0,updated_at:new Date().toISOString()}).eq("id",t);j(X=>X.map(R=>R.id===t?{...R,status:b,read:!0}:R)),M.success(b==="accepted"?"Convite aceito! Agora você pode acessar os dados da organização.":"Convite rejeitado."),b==="accepted"&&setTimeout(()=>window.location.reload(),1500)}catch{M.error("Erro inesperado ao processar resposta")}},se=async t=>{try{const{error:c}=await f.from("notifications").update({read:!0}).eq("id",t);c||j(b=>b.map(y=>y.id===t?{...y,read:!0}:y))}catch{}},_=D.filter(t=>t.status==="pending");return D.filter(t=>!t.read).length,B?e.jsx("div",{className:"animate-pulse",children:"Carregando notificações..."}):D.length===0?null:e.jsxs("div",{className:"space-y-4",children:[_.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(at,{className:"h-5 w-5 text-orange-500"}),e.jsxs(Y,{variant:"destructive",children:[_.length," convite",_.length>1?"s":""," pendente",_.length>1?"s":""]})]}),e.jsx("div",{className:"space-y-3",children:D.map(t=>e.jsxs(m,{className:`${t.read?"":"border-blue-200 bg-blue-50"} ${t.status==="pending"?"border-orange-200 bg-orange-50":""}`,children:[e.jsx(x,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ye,{className:"h-4 w-4 text-blue-600"}),e.jsx(h,{className:"text-sm",children:t.title}),!t.read&&e.jsx(Y,{variant:"secondary",className:"text-xs",children:"Nova"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[t.status==="accepted"&&e.jsx(Y,{variant:"default",className:"text-xs",children:"Aceito"}),t.status==="rejected"&&e.jsx(Y,{variant:"destructive",className:"text-xs",children:"Rejeitado"}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]})]})}),e.jsxs(u,{className:"pt-0",children:[e.jsx(V,{className:"mb-3",children:t.message}),t.type==="organization_invite"&&t.status==="pending"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(N,{size:"sm",onClick:()=>{const c=t.data?.organization_member_id;if(!c){M.error("Erro: ID da organização não encontrado");return}z(t.id,c,"accepted")},className:"bg-green-600 hover:bg-green-700",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Aceitar"]}),e.jsxs(N,{size:"sm",variant:"outline",onClick:()=>{const c=t.data?.organization_member_id;if(!c){M.error("Erro: ID da organização não encontrado");return}z(t.id,c,"rejected")},children:[e.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Rejeitar"]})]}),t.status==="pending"&&t.type!=="organization_invite"&&e.jsx(N,{size:"sm",variant:"outline",onClick:()=>se(t.id),children:"Marcar como lida"})]})]},t.id))})]})}function St(){const{user:r,signOut:D}=be(),j=Ae(),[B,K]=p.useState([]),[v,z]=p.useState(""),[se,_]=p.useState(!0),[t,c]=p.useState({totalIncome:0,totalExpenses:0,balancePJ:0,balanceCheckout:0,recentTransactions:[],monthlyRevenue:[],dailyRevenue:[],currentMonth:"",currentMonthRevenue:0,ticketMedio:0,lucroLiquido:0,margemLucro:0,crescimentoMensal:0,totalTransacoes:0}),[b,y]=p.useState(!0),[W,X]=p.useState(new Date);p.useEffect(()=>{if(!r){j("/auth");return}R()},[r,j]),p.useEffect(()=>{v&&G()},[v]),p.useEffect(()=>{if(!r)return;const s=setInterval(()=>{G()},3e4);return()=>clearInterval(s)},[r]);const R=async()=>{if(r){_(!0);try{const s=[];s.push({id:r.id,email:r.email||"",name:"Meus dados",isOwner:!0});const{data:C,error:P}=await f.rpc("get_organization_members",{user_member_id:r.id});if(!P&&C&&Array.isArray(C))for(const i of C){const{data:E,error:J}=await f.rpc("get_profile_email",{user_profile_id:i.owner_id});!J&&E&&s.push({id:i.owner_id,email:E,name:`Dados de ${E}`,isOwner:!1})}const{data:L,error:T}=await f.from("organization_members").select(`
          member_id,
          profiles!organization_members_member_id_fkey(email)
        `).eq("owner_id",r.id).eq("status","active");if(!T&&L)for(const i of L)i.profiles&&i.profiles.email&&s.push({id:i.member_id,email:i.profiles.email,name:`Dados compartilhados com ${i.profiles.email}`,isOwner:!0});K(s),s.length>0&&!v&&z(s[0].id)}catch{}finally{_(!1)}}},G=async()=>{if(!r)return;const s=v||r.id;try{const C=[{table:"transactions_2025_01",month:"Jan",monthNum:1},{table:"transactions_2025_02",month:"Fev",monthNum:2},{table:"transactions_2025_03",month:"Mar",monthNum:3},{table:"transactions_2025_04",month:"Abr",monthNum:4},{table:"transactions_2025_05",month:"Mai",monthNum:5},{table:"transactions_2025_06",month:"Jun",monthNum:6},{table:"transactions_2025_07",month:"Jul",monthNum:7},{table:"transactions_2025_08",month:"Ago",monthNum:8},{table:"transactions_2025_09",month:"Set",monthNum:9},{table:"transactions_2025_10",month:"Out",monthNum:10},{table:"transactions_2025_11",month:"Nov",monthNum:11},{table:"transactions_2025_12",month:"Dez",monthNum:12}];let P=[],L=[],T=[],i=0,E=0,J=0,ae=0,re=0,F=0;for(const o of C)try{const{data:k,error:S}=await f.from(o.table).select("*").eq("user_id",s);if(S){T.push({month:o.month,revenue:0});continue}const l=k||[],n=l.filter(a=>a.transaction_type==="income"),w=l.filter(a=>a.transaction_type==="expense"),ee=w.filter(a=>a.category!=="Prolabore"),$=n.filter(a=>a.account_name==="Conta PJ"),q=n.filter(a=>a.account_name==="Conta Checkout"),I=w.filter(a=>a.account_name==="Conta PJ"),Ee=w.filter(a=>a.account_name==="Conta Checkout"),xe=n.reduce((a,d)=>a+Number(d.amount),0),ze=w.reduce((a,d)=>a+Number(d.amount),0),Re=ee.reduce((a,d)=>a+Number(d.amount),0),Pe=$.reduce((a,d)=>a+Number(d.amount),0),Le=q.reduce((a,d)=>a+Number(d.amount),0),$e=I.reduce((a,d)=>a+Number(d.amount),0),qe=Ee.reduce((a,d)=>a+Number(d.amount),0);i+=xe,E+=ze,J+=Re,F+=n.length,ae+=Pe-$e,re+=Le-qe,P=[...P,...l],L=[...L,...n],T.push({month:o.month,revenue:xe})}catch{T.push({month:o.month,revenue:0})}const{data:ve,error:it}=await f.from("transactions").select("*").eq("user_id",v).order("created_at",{ascending:!1}).limit(5),lt=P.filter(o=>o.transaction_date?.startsWith("2025-04")),we=ae,_e=re,ne=new Date,oe=ne.getMonth()+1,Ce=ne.getFullYear(),ke=C.find(o=>o.monthNum===oe)?.month||"",Se=`transactions_${Ce}_${String(oe).padStart(2,"0")}`;let ce=[],ie=0;try{const{data:o,error:k}=await f.from(Se).select("transaction_date, amount, account_name").eq("user_id",s).eq("transaction_type","income");if(!k){if(o){const S=new Map;o.forEach(l=>{const n=new Date(l.transaction_date).getDate().toString(),w=S.get(n)||0;S.set(n,w+Number(l.amount))}),ce=Array.from(S.entries()).map(([l,n])=>({day:l,revenue:n})).sort((l,n)=>parseInt(l.day)-parseInt(n.day)),ie=o.reduce((l,n)=>l+Number(n.amount),0)}}}catch{}const Me=F>0?i/F:0,le=i-J,De=le,Te=i>0?De/i*100:0;let de=0;const H=new Date,me=H.getDate(),Q=H.getMonth()+1,O=H.getFullYear();let U=Q-1,Z=O;U===0&&(U=12,Z=O-1);try{const o=`transactions_${O}_${String(Q).padStart(2,"0")}`,{data:k,error:S}=await f.from(o).select("transaction_date, amount").eq("user_id",s).eq("transaction_type","income").lte("transaction_date",`${O}-${String(Q).padStart(2,"0")}-${String(me).padStart(2,"0")}`),l=`transactions_${Z}_${String(U).padStart(2,"0")}`,{data:n,error:w}=await f.from(l).select("transaction_date, amount").eq("user_id",s).eq("transaction_type","income").lte("transaction_date",`${Z}-${String(U).padStart(2,"0")}-${String(me).padStart(2,"0")}`);if(!S&&!w&&k&&n){const ee=k.reduce((q,I)=>q+Number(I.amount),0),$=n.reduce((q,I)=>q+Number(I.amount),0);$>0&&(de=(ee-$)/$*100)}}catch{}c({totalIncome:i,totalExpenses:E,balancePJ:we,balanceCheckout:_e,recentTransactions:ve||[],monthlyRevenue:T,dailyRevenue:ce,currentMonth:ke,currentMonthRevenue:ie,ticketMedio:Me,lucroLiquido:le,margemLucro:Te,crescimentoMensal:de,totalTransacoes:F}),X(new Date)}catch{}finally{y(!1)}},g=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s);return b?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-primary rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-foreground"})}),e.jsx("h1",{className:"text-lg sm:text-2xl font-bold",children:"FinanceiroLogotiq"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground text-center",children:["Bem-vindo, ",r?.email]}),B.length>=1&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-gray-600"}),e.jsxs(Be,{value:v,onValueChange:z,children:[e.jsx(Je,{className:"w-48",children:e.jsx(Fe,{placeholder:"Selecionar fonte de dados"})}),e.jsx(Oe,{children:B.map(s=>e.jsx(Ue,{value:s.id,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:s.name}),s.isOwner&&s.id!==r.id&&e.jsx("span",{className:"text-xs text-blue-600",children:"(Compartilhado)"}),!s.isOwner&&e.jsx("span",{className:"text-xs text-green-600",children:"(Organização)"})]})},s.id))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>j("/clients"),children:[e.jsx(ye,{className:"w-4 h-4 mr-1"}),"CRM"]}),e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>j("/settings"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-1"}),"Configurações"]}),e.jsx(N,{variant:"outline",size:"sm",onClick:G,children:"Atualizar"}),e.jsx(N,{variant:"outline",size:"sm",onClick:D,children:"Sair"})]})]})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx(ct,{})}),e.jsx("div",{className:"mb-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última atualização: ",W.toLocaleTimeString("pt-BR")]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 gap-6 mb-8",children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Receita Total"}),e.jsx(te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g(t.totalIncome)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",g(t.totalIncome-t.totalExpenses)," vs despesas"]})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Saldo em Caixa"}),e.jsx(te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g(t.balancePJ+t.balanceCheckout)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Soma das duas contas"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Saldo PJ"}),e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g(t.balancePJ)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Conta Pessoa Jurídica"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Saldo Checkout"}),e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g(t.balanceCheckout)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Conta Checkout"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Ticket Médio"}),e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g(t.ticketMedio)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Por venda (",t.totalTransacoes," vendas)"]})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Lucro Líquido"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:`text-2xl font-bold ${t.lucroLiquido>=0?"text-green-600":"text-red-600"}`,children:g(t.lucroLiquido)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Receita - Despesas (sem prolabore)"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Margem de Lucro"}),e.jsx(nt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsxs("div",{className:`text-2xl font-bold ${t.margemLucro>=0?"text-green-600":"text-red-600"}`,children:[t.margemLucro.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Eficiência financeira"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Crescimento Mensal"}),e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsxs("div",{className:`text-2xl font-bold flex items-center ${t.crescimentoMensal>=0?"text-green-600":"text-red-600"}`,children:[t.crescimentoMensal>=0?e.jsx(He,{className:"h-4 w-4 mr-1"}):e.jsx(Qe,{className:"h-4 w-4 mr-1"}),Math.abs(t.crescimentoMensal).toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"acumulado até hoje vs mês anterior"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Evolução Mensal - Todas as Contas"}),e.jsx(V,{children:"Receita mensal total em 2025 (todas as contas)"})]}),e.jsx(u,{children:e.jsx(he,{width:"100%",height:300,children:e.jsxs(Ze,{data:t.monthlyRevenue,children:[e.jsx(ue,{strokeDasharray:"3 3"}),e.jsx(pe,{dataKey:"month"}),e.jsx(fe,{}),e.jsx(je,{formatter:s=>g(s),labelStyle:{color:"black"}}),e.jsx(et,{dataKey:"revenue",fill:"#3b82f6"})]})})})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:["Faturamento Diário - ",t.currentMonth,e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Mês Atual"})]}),e.jsx(V,{children:t.currentMonth?`Receita diária total em ${t.currentMonth.toLowerCase()} 2025 - Total: ${g(t.currentMonthRevenue)}`:"Carregando dados do mês atual..."})]}),e.jsx(u,{children:e.jsx(he,{width:"100%",height:300,children:e.jsxs(tt,{data:t.dailyRevenue,children:[e.jsx(ue,{strokeDasharray:"3 3"}),e.jsx(pe,{dataKey:"day",label:{value:"Dia do Mês",position:"insideBottom",offset:-5}}),e.jsx(fe,{}),e.jsx(je,{formatter:s=>[g(s),"Faturamento"],labelFormatter:s=>`Dia ${s}`,labelStyle:{color:"black"}}),e.jsx(st,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2}})]})})})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Transações Recentes"}),e.jsxs(V,{children:["Últimas ",t.recentTransactions.length," transações"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{variant:"outline",size:"sm",onClick:()=>j("/transactions"),children:"Ver Todas"}),e.jsxs(N,{size:"sm",onClick:()=>j("/transactions"),className:"flex items-center gap-1",children:[e.jsx(ge,{className:"h-4 w-4"}),"Nova Transação"]})]})]})}),e.jsx(u,{children:t.recentTransactions.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma transação encontrada"}),e.jsxs(N,{onClick:()=>j("/transactions"),className:"flex items-center gap-2 mx-auto",children:[e.jsx(ge,{className:"h-4 w-4"}),"Criar Primeira Transação"]})]}):e.jsx("div",{className:"space-y-4",children:t.recentTransactions.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-full ${s.transaction_type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:s.transaction_type==="income"?e.jsx(Ve,{className:"h-4 w-4"}):e.jsx(Ke,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.description}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.transaction_date).toLocaleDateString("pt-BR")})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-medium ${s.transaction_type==="income"?"text-green-600":"text-red-600"}`,children:[s.transaction_type==="income"?"+":"-",g(s.amount)]}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:s.transaction_type})]})]},s.id))})})]})]})]})}export{St as default};
