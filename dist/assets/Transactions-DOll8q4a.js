import{j as e}from"./ui-GI4EfHd4.js";import{R as X,r as b}from"./vendor-CZTyH7vC.js";import{s as p,a as Z,u as pe,e as fe,X as Y}from"./index-C9JFiBqX.js";import{u as ee}from"./useSubscription-Bh5dDA-u.js";import{B as R}from"./badge-BayvbVSI.js";import{D as K,A as je}from"./database-BNChEnHb.js";import{C as ae}from"./calendar-DZ1knWvD.js";import{C as se,a as te,b as re,c as ne,d as ce,B as x}from"./card-DW2u03Uz.js";import{I}from"./input-KFCTXSpk.js";import{L as j}from"./label-B4butPFu.js";import{S as C,a as S,b as D,c as E,d as o}from"./select-B-sn-E0t.js";import{D as ge,a as ve,b as Ne,c as ye,d as be,e as _e,T as we}from"./dialog-BG68_0ET.js";import{C as Te}from"./crown-CiZCPVNK.js";import{L as U}from"./lock-rMW8stiF.js";import{T as Ce}from"./triangle-alert-CaGwVfHp.js";import{P as Q}from"./plus-D2JnyGcH.js";import{F as W}from"./filter-GlL6Ca2t.js";import{D as Se}from"./dollar-sign-Dx5W6TYX.js";import{A as De}from"./arrow-up-right-aqvw1X3o.js";import{S as Ee}from"./square-pen-B1AKB5A7.js";import"./supabase-DfbQpoin.js";import"./charts-DE-LwN1H.js";import"./check-DAfRPOjx.js";async function Fe(){try{const{data:{user:s},error:r}=await p.auth.getUser();if(r)return{success:!1,error:"Erro de autenticaÃ§Ã£o"};if(!s)return{success:!1,error:"UsuÃ¡rio nÃ£o autenticado"};const{data:c,error:t}=await p.from("transactions").select("*").limit(1);if(t)return{success:!1,error:`Erro transaÃ§Ãµes: ${t.message}`};const{data:m,error:g}=await p.from("clients").select("*").limit(1);if(g)return{success:!1,error:`Erro clientes: ${g.message}`};const{data:F,error:v}=await p.from("accounts").select("*").limit(1);return v?{success:!1,error:`Erro contas: ${v.message}`}:{success:!0}}catch{return{success:!1,error:"Erro geral no teste"}}}async function Ae(){try{const{data:{user:s}}=await p.auth.getUser();if(!s)return{success:!1,error:"UsuÃ¡rio nÃ£o autenticado"};const r={user_id:s.id,description:"Teste de autorizaÃ§Ã£o",amount:.01,transaction_type:"income",category:"Teste",transaction_date:new Date().toISOString().split("T")[0],account_id:"00000000-0000-0000-0000-000000000000",client_id:null},{error:c}=await p.from("transactions").insert([r]);return c?{success:!0,message:"client_id null nÃ£o Ã© o problema"}:{success:!0,message:"Teste passou"}}catch{return{success:!1,error:"Erro no teste"}}}function B(s){try{const r=new Date(s),c=r.getFullYear(),t=r.getMonth()+1;if(c!==2025)return null;const m=["","Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];return{table:`transactions_${c}_${String(t).padStart(2,"0")}`,month:m[t],monthNum:t,year:c}}catch{return null}}function ke(s=2025){return["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"].map((c,t)=>({table:`transactions_${s}_${String(t+1).padStart(2,"0")}`,month:c,monthNum:t+1,year:s}))}function ie(s){return B(s)!==null}function $(s){const r=B(s);return r?r.table:"transactions"}async function oe(s){try{const r=$(s.transaction_date),c=ie(s.transaction_date),{data:t,error:m}=await p.from(r).insert([s]).select();return m?{success:!1,error:m.message,tableName:r}:{success:!0,tableName:r,data:t}}catch(r){return{success:!1,error:r.message,tableName:"unknown"}}}async function Ie(s,r,c){try{const t=$(r.transaction_date),m=$(c.transaction_date);if(t===m){const{data:v,error:d}=await p.from(t).update(c).eq("id",s).select();return d?{success:!1,error:d.message,tableName:t}:{success:!0,tableName:t,data:v}}const g=await oe({...c});if(!g.success)return g;const{error:F}=await p.from(t).delete().eq("id",s);return g}catch(t){return{success:!1,error:t.message,tableName:"unknown"}}}async function ze(s,r){try{const c=$(r),{error:t}=await p.from(c).delete().eq("id",s);return t?{success:!1,error:t.message,tableName:c}:{success:!0,tableName:c}}catch(c){return{success:!1,error:c.message,tableName:"unknown"}}}function Me({transactionDate:s,className:r=""}){if(!s)return null;const c=ie(s),t=B(s);return c&&t?e.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[e.jsx(K,{className:"h-4 w-4 text-blue-600"}),e.jsxs(R,{variant:"secondary",className:"text-xs",children:["Tabela: ",t.table]}),e.jsxs(R,{variant:"outline",className:"text-xs",children:[t.month,"/",t.year]})]}):e.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[e.jsx(K,{className:"h-4 w-4 text-gray-600"}),e.jsx(R,{variant:"secondary",className:"text-xs",children:"Tabela: transactions (principal)"}),e.jsxs(R,{variant:"outline",className:"text-xs",children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),"Outras datas"]})]})}const Pe=({children:s,feature:r,fallback:c})=>{const{isMasterUser:t,isTrialActive:m,canPerformAction:g,getPlanName:F,currentPlan:v}=ee(),d=Z(),[y,z]=X.useState(null);if(X.useEffect(()=>{(async()=>{if(t){z(!0);return}const T=await g(r);z(T)})()},[t,g,r]),y===null)return e.jsx(e.Fragment,{children:s});if(y)return e.jsx(e.Fragment,{children:s});if(c)return e.jsx(e.Fragment,{children:c});const M=()=>{switch(r){case"transaction":return"transaÃ§Ãµes";case"user":return"usuÃ¡rios";case"client":return"clientes";default:return"recursos"}},P=()=>{switch(r){case"transaction":return e.jsx(Ce,{className:"w-6 h-6"});case"user":return e.jsx(U,{className:"w-6 h-6"});case"client":return e.jsx(U,{className:"w-6 h-6"});default:return e.jsx(U,{className:"w-6 h-6"})}};return e.jsxs(se,{className:"w-full max-w-md mx-auto",children:[e.jsxs(te,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 p-3 bg-yellow-100 rounded-full w-fit",children:P()}),e.jsx(re,{className:"text-lg",children:"Limite Atingido"}),e.jsxs(ne,{children:["VocÃª atingiu o limite de ",M()," do seu plano atual."]})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Plano atual: ",e.jsx("span",{className:"font-medium",children:F(v)})]}),m()&&e.jsx("p",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:"â° VocÃª estÃ¡ no perÃ­odo de teste gratuito"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{className:"w-full",onClick:()=>d("/subscription"),children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),m()?"Escolher Plano":"Fazer Upgrade"]}),e.jsx(x,{variant:"outline",className:"w-full",onClick:()=>d("/dashboard"),children:"Voltar ao Dashboard"})]})]})]})};function ca(){const{user:s}=pe(),{canPerformAction:r,incrementUsage:c,isMasterUser:t,checkPlanLimits:m,subscription:g,usage:F}=ee(),v=Z(),{toast:d}=fe(),[y,z]=b.useState([]),[M,P]=b.useState(!0),[G,T]=b.useState(!1),[u,V]=b.useState(null),[l,f]=b.useState({description:"",amount:"",transaction_type:"income",category:"",transaction_date:new Date().toISOString().split("T")[0],client_name:"",account_name:""}),[i,A]=b.useState({month:"all",day:"all",type:"all",account:"all"}),[O,q]=b.useState([]),le=[{id:"pj",name:"Conta PJ"},{id:"checkout",name:"Conta Checkout"}];b.useEffect(()=>{if(!s){v("/auth");return}L()},[s,v]);const H=()=>{A({month:"all",day:"all",type:"all",account:"all"}),q(y)};b.useEffect(()=>{let a=[...y];i.month&&i.month!=="all"&&(a=a.filter(n=>(new Date(n.transaction_date).getMonth()+1).toString()===i.month)),i.day&&i.day!=="all"&&(a=a.filter(n=>new Date(n.transaction_date).getDate().toString()===i.day)),i.type&&i.type!=="all"&&(a=a.filter(n=>n.transaction_type===i.type)),i.account&&i.account!=="all"&&(a=a.filter(n=>n.account_name===i.account)),q(a)},[y,i]);const L=async()=>{if(s)try{P(!0);let a=[];const n=ke(2025);for(const _ of n)try{const{data:w,error:k}=await p.from(_.table).select("*").eq("user_id",s.id);if(!k){const J=w||[];a=[...a,...J]}}catch{}try{const{data:_,error:w}=await p.from("transactions").select("*").eq("user_id",s.id);if(!w){const k=_||[];a=[...a,...k]}}catch{}const N=a.filter((_,w,k)=>w===k.findIndex(J=>J.id===_.id)).sort((_,w)=>new Date(w.transaction_date).getTime()-new Date(_.transaction_date).getTime());z(N),q(N)}catch{d({title:"Erro",description:"Erro inesperado ao carregar dados",variant:"destructive"})}finally{P(!1)}},de=async a=>{if(a.preventDefault(),!!s){if(!t&&!u){const n=await r("transaction");if(await m("transaction"),!n){d({title:"Limite Atingido",description:"VocÃª atingiu o limite de transaÃ§Ãµes do seu plano. FaÃ§a upgrade para continuar.",variant:"destructive"});return}}if(!l.account_name){d({title:"Erro",description:"Selecione uma conta para a transaÃ§Ã£o",variant:"destructive"});return}try{const n={user_id:s.id,description:l.description,amount:parseFloat(l.amount),transaction_type:l.transaction_type,category:l.category,transaction_date:l.transaction_date,account_name:l.account_name,client_name:l.client_name||null};if(u){const h={user_id:u.user_id||s.id,description:u.description,amount:u.amount,transaction_type:u.transaction_type,category:u.category,transaction_date:u.transaction_date,account_name:u.account_name,client_name:u.client_name},N=await Ie(u.id,h,n);if(!N.success)throw new Error(N.error||"Erro ao atualizar transaÃ§Ã£o");d({title:"Sucesso",description:`TransaÃ§Ã£o atualizada com sucesso na tabela ${N.tableName}`})}else{const h=await oe(n);if(!h.success)throw new Error(h.error||"Erro ao criar transaÃ§Ã£o");d({title:"Sucesso",description:`TransaÃ§Ã£o criada com sucesso na tabela ${h.tableName}`}),t||await c("transaction",1)}f({description:"",amount:"",transaction_type:"income",category:"",transaction_date:new Date().toISOString().split("T")[0],client_name:"",account_name:""}),V(null),T(!1),L()}catch(n){n.code==="PGRST116"||n.message?.includes("permission")?d({title:"Erro de AutorizaÃ§Ã£o",description:"VocÃª nÃ£o tem permissÃ£o para realizar esta aÃ§Ã£o. Verifique se estÃ¡ logado corretamente.",variant:"destructive"}):d({title:"Erro",description:n.message||"Erro desconhecido ao processar transaÃ§Ã£o",variant:"destructive"})}}},ue=a=>{V(a),f({description:a.description,amount:a.amount.toString(),transaction_type:a.transaction_type,category:a.category||"",transaction_date:a.transaction_date,client_name:a.client_name||"",account_name:a.account_name}),T(!0)},me=async a=>{if(confirm("Tem certeza que deseja excluir esta transaÃ§Ã£o?"))try{const n=y.find(N=>N.id===a);if(!n)throw new Error("TransaÃ§Ã£o nÃ£o encontrada");const h=await ze(a,n.transaction_date);if(!h.success)throw new Error(h.error||"Erro ao excluir transaÃ§Ã£o");d({title:"Sucesso",description:`TransaÃ§Ã£o excluÃ­da com sucesso da tabela ${h.tableName}`}),L()}catch(n){n.code==="PGRST116"||n.message?.includes("permission")?d({title:"Erro de AutorizaÃ§Ã£o",description:"VocÃª nÃ£o tem permissÃ£o para excluir esta transaÃ§Ã£o. Verifique se estÃ¡ logado corretamente.",variant:"destructive"}):d({title:"Erro",description:n.message||"Erro desconhecido ao excluir transaÃ§Ã£o",variant:"destructive"})}},he=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),xe=async()=>{const a=await Fe(),n=await Ae();a.success&&n.success?d({title:"Testes ConcluÃ­dos",description:"Todos os testes de autorizaÃ§Ã£o passaram!"}):d({title:"Testes Falharam",description:`Problemas encontrados: ${a.error||n.error}`,variant:"destructive"})};return M?e.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:"ml-4 text-muted-foreground",children:"Carregando transaÃ§Ãµes..."})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{variant:"ghost",onClick:()=>v("/dashboard"),children:"â† Dashboard"}),e.jsx("h1",{className:"text-2xl font-bold",children:"TransaÃ§Ãµes"}),e.jsx(x,{variant:"outline",size:"sm",onClick:xe,className:"ml-4",children:"ðŸ§ª Testar Auth"})]}),e.jsx(Pe,{feature:"transaction",children:e.jsxs(ge,{open:G,onOpenChange:T,children:[e.jsx(ve,{asChild:!0,children:e.jsxs(x,{onClick:()=>{V(null),f({description:"",amount:"",transaction_type:"income",category:"",transaction_date:new Date().toISOString().split("T")[0],client_id:"",account_id:""})},children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Nova TransaÃ§Ã£o"]})}),e.jsxs(Ne,{className:"sm:max-w-[500px]",children:[e.jsxs(ye,{children:[e.jsx(be,{children:u?"Editar TransaÃ§Ã£o":"Nova TransaÃ§Ã£o"}),e.jsx(_e,{children:u?"Edite os dados da transaÃ§Ã£o":"Adicione uma nova transaÃ§Ã£o financeira"})]}),e.jsxs("form",{onSubmit:de,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"description",children:"DescriÃ§Ã£o (Opcional)"}),e.jsx(I,{id:"description",placeholder:"DescriÃ§Ã£o da transaÃ§Ã£o",value:l.description,onChange:a=>f({...l,description:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"amount",children:"Valor"}),e.jsx(I,{id:"amount",type:"number",step:"0.01",placeholder:"0,00",value:l.amount,onChange:a=>f({...l,amount:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"transaction_type",children:"Tipo"}),e.jsxs(C,{value:l.transaction_type,onValueChange:a=>f({...l,transaction_type:a}),children:[e.jsx(S,{children:e.jsx(D,{})}),e.jsxs(E,{children:[e.jsx(o,{value:"income",children:"Receita"}),e.jsx(o,{value:"expense",children:"Despesa"}),e.jsx(o,{value:"transfer",children:"TransferÃªncia"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"account_name",children:"Conta"}),e.jsxs(C,{value:l.account_name||void 0,onValueChange:a=>f({...l,account_name:a}),children:[e.jsx(S,{children:e.jsx(D,{placeholder:"Selecione uma conta"})}),e.jsx(E,{children:le.map(a=>e.jsx(o,{value:a.name,children:a.name},a.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"client_name",children:"Cliente (Opcional)"}),e.jsx(I,{id:"client_name",placeholder:"Digite o nome do cliente",value:l.client_name,onChange:a=>f({...l,client_name:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"category",children:"Categoria"}),e.jsx(I,{id:"category",placeholder:"Ex: Vendas, Marketing",value:l.category,onChange:a=>f({...l,category:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"transaction_date",children:"Data"}),e.jsx(I,{id:"transaction_date",type:"date",value:l.transaction_date,onChange:a=>f({...l,transaction_date:a.target.value}),required:!0}),e.jsx(Me,{transactionDate:l.transaction_date,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Cancelar"}),e.jsx(x,{type:"submit",children:u?"Atualizar":"Criar"})]})]})]})]})})]})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs(se,{className:"shadow-finance-md",children:[e.jsxs(te,{children:[e.jsx(re,{children:"Lista de TransaÃ§Ãµes"}),e.jsx(ne,{children:"Gerencie todas as suas movimentaÃ§Ãµes financeiras"})]}),e.jsx("div",{className:"px-6 pb-4 border-b",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Filtros:"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{htmlFor:"month-filter",className:"text-xs",children:"MÃªs:"}),e.jsxs(C,{value:i.month,onValueChange:a=>A({...i,month:a}),children:[e.jsx(S,{className:"w-32 h-8",children:e.jsx(D,{placeholder:"Todos"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todos"}),e.jsx(o,{value:"1",children:"Janeiro"}),e.jsx(o,{value:"2",children:"Fevereiro"}),e.jsx(o,{value:"3",children:"MarÃ§o"}),e.jsx(o,{value:"4",children:"Abril"}),e.jsx(o,{value:"5",children:"Maio"}),e.jsx(o,{value:"6",children:"Junho"}),e.jsx(o,{value:"7",children:"Julho"}),e.jsx(o,{value:"8",children:"Agosto"}),e.jsx(o,{value:"9",children:"Setembro"}),e.jsx(o,{value:"10",children:"Outubro"}),e.jsx(o,{value:"11",children:"Novembro"}),e.jsx(o,{value:"12",children:"Dezembro"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{htmlFor:"day-filter",className:"text-xs",children:"Dia:"}),e.jsxs(C,{value:i.day,onValueChange:a=>A({...i,day:a}),children:[e.jsx(S,{className:"w-20 h-8",children:e.jsx(D,{placeholder:"Todos"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todos"}),Array.from({length:31},(a,n)=>n+1).map(a=>e.jsx(o,{value:a.toString(),children:a},a))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{htmlFor:"type-filter",className:"text-xs",children:"Tipo:"}),e.jsxs(C,{value:i.type,onValueChange:a=>A({...i,type:a}),children:[e.jsx(S,{className:"w-28 h-8",children:e.jsx(D,{placeholder:"Todos"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todos"}),e.jsx(o,{value:"income",children:"Receita"}),e.jsx(o,{value:"expense",children:"Despesa"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{htmlFor:"account-filter",className:"text-xs",children:"Conta:"}),e.jsxs(C,{value:i.account,onValueChange:a=>A({...i,account:a}),children:[e.jsx(S,{className:"w-32 h-8",children:e.jsx(D,{placeholder:"Todas"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todas"}),e.jsx(o,{value:"Conta PJ",children:"Conta PJ"}),e.jsx(o,{value:"Conta Checkout",children:"Conta Checkout"})]})]})]}),(i.month!=="all"||i.day!=="all"||i.type!=="all"||i.account!=="all")&&e.jsxs(x,{variant:"outline",size:"sm",onClick:H,className:"h-8",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Limpar"]}),e.jsxs("div",{className:"ml-auto text-xs text-muted-foreground",children:[O.length," de ",y.length," transaÃ§Ãµes"]})]})}),e.jsx(ce,{children:M?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando transaÃ§Ãµes..."})]}):O.length===0?e.jsx("div",{className:"text-center py-8",children:y.length===0?e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma transaÃ§Ã£o encontrada. Adicione sua primeira transaÃ§Ã£o."}),e.jsxs(x,{onClick:()=>{V(null),f({description:"",amount:"",transaction_type:"income",category:"",transaction_date:new Date().toISOString().split("T")[0],client_name:"",account_name:""}),T(!0)},children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Nova TransaÃ§Ã£o"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma transaÃ§Ã£o encontrada com os filtros aplicados."}),e.jsxs(x,{variant:"outline",onClick:H,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]})]})}):e.jsx("div",{className:"space-y-4",children:O.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-full ${a.transaction_type==="income"?"bg-success/10":a.transaction_type==="expense"?"bg-destructive/10":"bg-info/10"}`,children:a.transaction_type==="income"?e.jsx(De,{className:"h-4 w-4 text-success"}):a.transaction_type==="expense"?e.jsx(je,{className:"h-4 w-4 text-destructive"}):e.jsx(ae,{className:"h-4 w-4 text-info"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.description||"Sem descriÃ§Ã£o"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:a.client_name||"Sem cliente"}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:a.account_name}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:new Date(a.transaction_date).toLocaleDateString("pt-BR")}),a.category&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:a.category})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`font-semibold ${a.transaction_type==="income"?"text-success":a.transaction_type==="expense"?"text-destructive":"text-info"}`,children:[a.transaction_type==="income"?"+":a.transaction_type==="expense"?"-":"",he(Number(a.amount))]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{size:"sm",variant:"ghost",onClick:()=>ue(a),children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx(x,{size:"sm",variant:"ghost",onClick:()=>me(a.id),children:e.jsx(we,{className:"w-4 h-4"})})]})]})]},a.id))})})]})})]})}export{ca as default};
